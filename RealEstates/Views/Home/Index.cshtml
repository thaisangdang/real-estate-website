@model RealEstates.ViewModels.HomeViewModel

@{
    ViewBag.Title = "Trang chủ";
}

<div class="row">

    @using (Html.BeginForm("Search", "Home", FormMethod.Get, new { @class = "form-horizontal col-sm-12 col-md-3", role = "form", @style = "padding: 0; margin: 0;" }))
    {
        <div class="card">
            <div class="card-body">
                <ul class="nav nav-pills" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" data-toggle="pill" href="#duan">Dự án</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill" href="#tinrao">Tin rao</a>
                    </li>
                </ul>
                <div class="tab-content">
                    <div id="duan" class="container tab-pane active">
                        <br />
                        @*<h4>Tìm dự án</h4>*@
                        <div class="form-group">
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="Tìm dự án..." aria-label="Search" aria-describedby="basic-addon2">
                                <div class="input-group-append">
                                    <button class="btn btn-secondary" type="button">
                                        <i class="fas fa-search"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            @Html.DropDownListFor(m => m.LoaiDuAnId, new SelectList(Model.LoaiDuAns, "Id", "TenLoai"), "Loại dự án", new { @class = "form-control col-md-12 select2" })
                        </div>
                        <div class="form-group">
                            @Html.DropDownListFor(m => m.TinhThanhPhoId, new SelectList(Model.TinhThanhPhos, "Id", "Ten"), "Tỉnh thành phố", new { @class = "form-control col-md-12 select2" })
                        </div>
                        <div class="form-group">
                            @Html.DropDownListFor(m => m.DienTichId, new SelectList(Model.DienTichs, "Id", "Text"), "Diện tích", new { @class = "form-control col-md-12 select2" })
                        </div>
                        <div class="form-group">
                            @Html.DropDownListFor(m => m.KhoangGiaId, new SelectList(Model.KhoangGias, "Id", "Text"), "Khoảng giá", new { @class = "form-control col-md-12 select2" })
                        </div>
                    </div>
                    <div id="tinrao" class="container tab-pane fade">
                        <br />
                        @*<h4>Tìm tin rao</h4>*@
                        <div class="form-group">
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="Tìm tin rao..." aria-label="Search" aria-describedby="basic-addon2">
                                <div class="input-group-append">
                                    <button class="btn btn-secondary" type="button">
                                        <i class="fas fa-search"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        @*<div class="form-group">
                                @Html.DropDownListFor(m => m.LoaiTinRaoId, new SelectList(Model.LoaiTinRaoBDS, "Id", "Text"), "Loại tin rao", new { @class = "form-control col-md-12 select2" })
                            </div>
                            <div class="form-group">
                                @Html.DropDownListFor(m => m.TinhThanhPhoId, new SelectList(Model.TinhThanhPhos, "Id", "Ten"), "Tỉnh thành phố", new { @class = "form-control col-md-12 select2" })
                            </div>
                            <div class="form-group">
                                @Html.DropDownListFor(m => m.DienTichId, new SelectList(Model.DienTichs, "Id", "Text"), "Diện tích", new { @class = "form-control col-md-12 select2" })
                            </div>
                            <div class="form-group">
                                @Html.DropDownListFor(m => m.KhoangGiaId, new SelectList(Model.KhoangGias, "Id", "Text"), "Khoảng giá", new { @class = "form-control col-md-12 select2" })
                            </div>*@
                    </div>
                </div>
            </div>
        </div>
        <button type="submit" class="btn btn-primary btn-block text-white"><i class="fas fa-search fa-fw"></i>Tìm kiếm</button>
    }

    <div class="col-sm-12 col-md-9">
        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img class="d-block w-100" src="~/Content/Images/sidebar1.png" alt="First slide">
                    @*<div class="carousel-caption d-none d-md-block">
                            <h5>Lorem Ipsum is simply dummy text of the printing and typesetting industry.</h5>
                            <p>
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                                incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
                                exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure
                                dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur
                            </p>
                        </div>*@
                </div>
                <div class="carousel-item">
                    <img class="d-block w-100" src="~/Content/Images/sidebar2.jpg" alt="Second slide">
                    @*<div class="carousel-caption d-none d-md-block">
                            <h5>Lorem Ipsum is simply dummy text of the printing and typesetting industry.</h5>
                            <p>
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                                incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
                                exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure
                                dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur
                            </p>
                        </div>*@
                </div>
                <div class="carousel-item">
                    <img class="d-block w-100" src="~/Content/Images/sidebar3.jpg" alt="Third slide">
                    @*<div class="carousel-caption d-none d-md-block">
                            <h5>Lorem Ipsum is simply dummy text of the printing and typesetting industry.</h5>
                            <p>
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                                incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
                                exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure
                                dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur
                            </p>
                        </div>*@
                </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>
</div>

<hr>
<br>

@if (Model.DuAns.Count() > 0)
{
    <div class="row ">
        <div class="col-md-12">
            <h3 class="box-title">Dự án mới</h3>
        </div>
    </div>
    <div class="row">
        <div class="owl-carousel owl-loaded owl-drag">
            @foreach (var item in Model.DuAns)
            {
                Html.RenderPartial("~/Views/Shared/_SingleDuAnCarousel.cshtml", item);
            }
        </div>
    </div>
    <div class="row">
        <div class="col-md-12 text-right">
            <h5>
                @Html.ActionLink("Xem thêm dự án >>", "Index", "DuAn")
            </h5>
        </div>
    </div>
}

<hr>
<br>

@if (Model.NhaDats.Count() > 0)
{
    <div class="row ">
        <div class="col-md-12">
            <h3 class="box-title">Nhà đất mới</h3>
        </div>
    </div>
    <div class="row">
        <div class="owl-carousel owl-loaded owl-drag">
            @foreach (var item in Model.NhaDats)
            {
                Html.RenderPartial("~/Views/Shared/_SingleNhaDatCarousel.cshtml", item);
            }
        </div>
    </div>
    <div class="row">
        <div class="col-md-12 text-right">
            <h5>
                @Html.ActionLink("Xem thêm nhà đất >>", "Index", "NhaDat")
            </h5>
        </div>
    </div>
}

<hr>
<br>

@if (Model.TinRaoBDSs.Count() > 0)
{
    <div class="row ">
        <div class="col-md-12">
            <h3 class="box-title">Tin rao mới</h3>
        </div>
    </div>
    <div class="row">
        <div class="owl-carousel owl-loaded owl-drag">
            @foreach (var item in Model.TinRaoBDSs)
            {
                Html.RenderPartial("~/Views/Shared/_SingleTinRaoCarousel.cshtml", item);
            }
        </div>
    </div>
    <div class="row">
        <div class="col-md-12 text-right">
            <h5>
                @Html.ActionLink("Xem thêm tin rao >>", "Index", "TinRao")
            </h5>
        </div>
    </div>
}

<!-- Load Facebook SDK for JavaScript -->
@*<div id="fb-root"></div>
    <script>
        window.fbAsyncInit = function () {
            FB.init({
                xfbml: true,
                version: 'v5.0'
            });
        };

        (function (d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = 'https://connect.facebook.net/en_US/sdk/xfbml.customerchat.js';
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));</script>*@

<!-- Your customer chat code -->
@*<div class="fb-customerchat"
         attribution=setup_tool
         page_id="110986233731157"
         theme_color="#7646ff">
    </div>*@

@section scripts {
    <script>
        $(document).ready(function () {
            $(".select2").select2();

            $(".owl-carousel").owlCarousel({
                items: 4,
                pagination: false,
                autoHeight: false,
                autoWidth: false,
                nav: true,
                loop: true,
                responsive: { 0: { items: 1 }, 500: { items: 2 }, 768: { item: 4 } },
                margin: 10,
                navText: ["<i class='fa fa-angle-left'></i>", "<i class='fa fa-angle-right'></i>"],
                dots: false
            });
        });

    </script>

    <script async src="https://dochat.vn/code.js?id=9191216005411002142"></script>
}